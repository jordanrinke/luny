purpose: Sample Rust fixture for testing the luny Rust parser. This file contains various Rust constructs including structs, enums, traits, and impl blocks to verify extraction works correctly.
tokens: ~2033
exports[30]: UserId(type), Result(type), VERSION(const), DEFAULT_TIMEOUT(const), MAX_RETRIES(const), Error(enum), Repository(trait), UserConfig(struct), new(method(UserConfig)), with_email(method(UserConfig)), add_setting(method(UserConfig)), new(fn), with_email(fn), add_setting(fn), UserService(struct), new(method(UserService)), clear_cache(method(UserService)), new(fn), clear_cache(fn), create_user(fn), validate_email(fn), Cache(struct), new(method(Cache<K, V>)), get(method(Cache<K, V>)), set(method(Cache<K, V>)), new(fn), get(fn), set(fn), UserStatus(enum), log_info(macro)
signatures[19]:
  UserId(type): String
  Result(type): <T> = std::result::Result<T, Error>
  Error(enum): { Io | Json | Validation | NotFound }
  Repository(trait): <T> { get(&self, id: &str); save(&self, item: &T); delete(&self, id: &str); list(&self) }
  UserConfig(struct): { id: UserId, name: String, email: Option<String>, settings: HashMap<String, serde_json::Value> }
  new(fn): (id: impl Into<String>, name: impl Into<String>) Self
  with_email(fn): (mut self, email: impl Into<String>) Self
  add_setting(fn): (&mut self, key: impl Into<String>, value: serde_json::Value)
  UserService(struct): { data_dir: PathBuf, cache: Arc<RwLock<HashMap<String, UserConfig>>> }
  new(fn): (data_dir: impl AsRef<Path>) Self
  clear_cache(fn): (&self)
  get(fn): (&self, id: &str) Result<Option<UserConfig>>
  create_user(fn): (name: impl Into<String>) UserConfig
  validate_email(fn): (email: &str) Result<bool>
  Cache(struct): <K, V> { data: HashMap<K, V>, max_size: usize }
  new(fn): (max_size: usize) Self
  get(fn): (&self, key: &K) Option<&V>
  set(fn): (&mut self, key: K, value: V)
  UserStatus(enum): { Active | Inactive | Pending | Suspended }
when-editing: - !Keep all pub visibility modifiers represented for comprehensive testing - Maintain the mix of sync and async patte...
invariants: - Exported items must have the pub modifier - Private items should not be extracted as exports - Include examples of ...
do-not: - Remove any exports without updating corresponding tests - Use unsafe code in this fixture unless testing unsafe ext...
imports[8]{from,items}: std::collections,HashMap; std::fs,self|File; std::io,self|Read|Write; std::path,Path|PathBuf; std::sync,Arc|RwLock; serde,Deserialize|Serialize; std::time,SystemTime|UNIX_EPOCH; super::*,super::*
calls[4]{target,methods}: std::fs,create|open; std::time,now().duration_since(UNIX_EPOCH).unwrap|now().duration_since|now; std::collections,new; std::sync,new
gotchas: - Rust uses explicit pub modifier for visibility - Trait implementations are extracted differently from inherent impl...
